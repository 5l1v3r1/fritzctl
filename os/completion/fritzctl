# Pre-defined variables
#
# COMP_LINE : The current command line.
# COMP_WORDS: An array variable consisting of the individual words in the current command line, ${COMP_LINE}.
# COMP_CWORD: An index into ${COMP_WORDS} of the word containing the current cursor position.
# COMPREPLY : An array variable from which bash reads the possible completions generated by a completion function.

_fritzctl()
{
    local cur prev basecommands
    cur=${COMP_WORDS[COMP_CWORD]}
    prev=${COMP_WORDS[COMP_CWORD-1]}
    basecommands="configure list ping sessionid switch temperature toggle"


    case ${COMP_CWORD} in
        1)
            COMPREPLY=($(compgen -W "--version --help ${basecommands}" -- ${cur}))
            ;;
        2)
            case ${prev} in
                list)
                    COMPREPLY=($(compgen -W "switches thermostats landevices logs inetstats" -- ${cur}))
                    ;;
                switch)
                    COMPREPLY=($(compgen -W "on off" -- ${cur}))
                    ;;
		--help)
		    COMPREPLY=($(compgen -W "${basecommands}" -- ${cur}))
		    ;;
                *)
                    COMPREPLY=()
                    ;;
            esac
            ;;
        *)
            COMPREPLY=()
            ;;
    esac
}
complete -F _fritzctl fritzctl
